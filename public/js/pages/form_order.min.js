!function(e,a){"use strict";var t=function(){var e=this;a(document).ready(function(){e.initialize()})},r=t.prototype;r.initialize=function(){a("#order-date").datepicker({autoclose:!0,todayHighlight:!0,format:"yyyy-mm-dd"}),this._initServiceSelect(),this._enableEvents()},r._enableEvents=function(){var e=this;a(document).on("click",".card-head .tools .btn-collapse",function(a){e._handleCardCollapse(a)}),a(document).on("click",".card-head .tools .btn-close",function(a){e._handleCardClose(a)})},r._initServiceSelect=function(){var e=this;a(document).on("click","#add-service-order",function(){var t=a(this);bootbox.dialog({title:"Add a service to order.",message:a("#select-service").html(),buttons:{success:{label:"Ok",className:"btn-primary",callback:function(){e._handleOrderForm(t)}}}})})},r._handleOrderForm=function(e){a.ajax({type:"GET",url:e.data("url"),data:{service_id:a("#service_id").val()},success:function(e){a("#service-orders").append(e)}})},r._handleCardCollapse=function(e){var t=a(e.currentTarget).closest(".card");materialadmin.AppCard.toggleCardCollapse(t)},r._handleCardClose=function(e){var t=a(e.currentTarget).closest(".card");materialadmin.AppCard.removeCard(t)},window.materialadmin.OrderForm=new t}(this.materialadmin,jQuery);