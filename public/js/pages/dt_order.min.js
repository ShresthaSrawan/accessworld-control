!function(t,a){"use strict";var e=function(){var t=this;a(document).ready(function(){t.initialize()})},r=e.prototype;r.initialize=function(){this._initDataTables()},r._initDataTables=function(){a.isFunction(a.fn.dataTable)&&this.createDataTable()},r.createDataTable=function(){var t=a("#dt_order"),e=t.DataTable({dom:'<"clear">lfrtip',order:[],processing:!0,serverSide:!0,ajax:{type:"POST",url:t.data("source")},lengthMenu:[[50,100,-1],[50,100,"All"]],pageLength:"50",columns:[{"class":"details-control text-center",orderable:!1,data:null,defaultContent:"",searchable:!1},{data:"customer.first_name",name:"customer.first_name"},{data:"customer.last_name",name:"customer.last_name"},{data:"date",name:"order.date","class":"text-center"},{data:"created_by.username",name:"order.created_by.username","class":"text-center text-capitalize",render:function(t){return t?t:"-"}},{data:"status",name:"order.status","class":"text-center text-capitalize"},{data:"approved_by.username",name:"order.approved_by.username","class":"text-center text-capitalize",render:function(t){return t?t:"-"}},{data:"action","class":"text-right",orderable:!1,searchable:!1,render:function(t){return t?t:"-"}}],createdRow:function(t,e){"approved"==e.status.toLowerCase()?a(t).addClass("success"):"rejected"==e.status.toLowerCase()&&a(t).addClass("warning")},drawCallback:function(){a('[data-toggle="tooltip"]').tooltip()}}),r=this;t.find("tbody").on("click","td.details-control",function(){var t=a(this).closest("tr"),n=e.row(t);r._formatDetails(n.data(),n,t)})},r._formatDetails=function(t,e,r){var n=t.id,s=a("#dt_order");a.ajax({type:"POST",url:s.data("details-source"),data:{id:n},success:function(t){e.child.isShown()?(e.child.hide(),r.removeClass("shown")):(e.child(t).show(),r.addClass("shown"))},error:function(){bootbox.alert("<h3 class='text-center'>Error fetching data!</h3>")}})},window.materialadmin.OrderDataTable=new e}(this.materialadmin,jQuery);